# Gerar CSV agrupado do arquivo 1802002.txt

Este repositório inclui o script `scripts/gerar_csv_1802002.py`, que lê o arquivo `1802002.txt`, extrai os campos de **funcionários** (`matricula`, `nome`, `cpf`, `valor`), **agrega (soma) o campo `valor` por `matricula`** e grava um CSV chamado `1802002_agrupado.csv` **ordenado por matrícula**.

## Requisitos

- Python 3.8+ (sem dependências externas)

## Como executar

1. Coloque o arquivo `1802002.txt` na raiz do projeto (ou informe o caminho na linha de comando).
2. Execute:

```bash
python3 scripts/gerar_csv_1802002.py
```

Isso irá gerar o arquivo:

- `1802002_agrupado.csv` (na raiz)

### Informando caminhos (opcional)

Você pode passar `ENTRADA` e `SAÍDA`:

```bash
python3 scripts/gerar_csv_1802002.py caminho/para/1802002.txt caminho/para/1802002_agrupado.csv
```

## Observações de parsing

- Leitura em **UTF-8** com `errors="replace"` para tolerar caracteres inválidos.
- Linhas malformadas não interrompem a execução.
- O campo `valor` pode vir como número (JSON) ou como string; o script tenta aceitar formatos comuns, incluindo vírgula/ponto.
- Totais são gravados com **2 casas decimais** e **ponto** como separador decimal.
